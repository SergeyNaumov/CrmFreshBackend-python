# для тестирования
import time,random,re
def from_datetime_get_date(dt):
  rez=re.search('^(\d{4}-\d{2}-\d{2})( \d{2}:\d{2}:\d{2})?$',dt)
  if rez: return rez[1]
  return False


def get_func(s):
  rez=re.search('func:\((.+)\)',s)
  if rez: rez=rez[1]
  else: rez=''
  return rez
  #return rez
import os
#os.makedirs('./1/2/3/4')
#from os import path
b64='data:image/png;base64,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'
def b64_split(data):
    rez=re.search(r'^data:(.+?);base64,(.+)',data)
    if rez:
        return {'mime':rez[1],'base64':rez[2]}

def get_ext(filename):
    arr='basename.txt'.split('.')
    l=len(arr)
    if l>1:
        return arr[l-1]
    return ''

def filename(): # генерирует имя файла без расширения
    str(time.time()).split('.')[0]+'_'+str(random.random()*10**12).split('.')[1]
#b64_split(b64)
#print(get_ext('djskjj.jpg'))

# Вывод списка файлов
# import os
# print(os.listdir('./'))
#print(from_datetime_get_date('d2020-10-15 05:55:12'))

"""
curl -X POST \
-H "Content-Type: application/json" \
-H "Authorization: Token 0504bf475461ecb2b0223936a54ea814d2fc59d2" \
-H "X-Secret: 60df5c61174703321131e32104288e324733a2f5" \
-d '[ "мск сухонска 11/-89" ]' \
https://cleaner.dadata.ru/api/v1/clean/address


UPDATE manager set password=sha256('123') where login='admin';
"""

